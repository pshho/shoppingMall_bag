<html xmlns="http://www.thymeleaf.org">
<table border="">
	<tr>
		<td colspan="6">
			<h3>배송지 목록</h3>
		</td>
	</tr>
	<tr>
		<td>수령인</td>
		<td>연락처</td>
		<td>우편번호</td>
		<td>주소</td>
		<td>상세주소</td>
		<td>배송지 선택</td>
	</tr>
	<tr th:each="addr:${addrList}">
		<td th:text="${addr.addrName}"></td>
		<td th:text="${addr.addressPhone}"></td>
		<td th:text="${addr.zipCode}"></td>
		<td th:text="${addr.address}"></td>
		<td th:text="${addr.detailAddress}"></td>
		<td>
			<input type="button" th:onclick="|changeAddr(${addr.addressId})|" value="선택" />
		</td>
	</tr>
</table>
<script th:inline="javascript">
	function changeAddr(addressId){
		const params = {
			addressId : addressId
		}
		
		$.ajax({
			url : '/orders/orders',
			type : 'post',
			dataType : 'json',
			contentType : 'application/json; charset=utf-8',
			data : JSON.stringify(params),
			success : function(res) {
				console.log(res);
			},
			error : function (req, status, error) {
				console.log(req);
				console.log(status);
				console.log(error);
			}
		})
	}
</script>